(this["webpackJsonpshopify-app"]=this["webpackJsonpshopify-app"]||[]).push([[0],{48:function(e,t,r){},49:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var c=r(1),s=r.n(c),n=r(17),a=r.n(n),i=r(2),d=(r(48),r(49),r(9)),l=r(10),o=r(8),j=r(21),u=r(0),b=["component"],h=function(e){var t=e.component,r=Object(j.a)(e,b),c=Object(i.c)((function(e){return e.userSignin})).userInfo;return Object(u.jsx)(l.b,Object(o.a)(Object(o.a)({},r),{},{render:function(e){return c&&c.isAdmin?Object(u.jsx)(t,Object(o.a)({},e)):Object(u.jsx)(l.a,{to:"/signin"})}}))},p=["component"],O=function(e){var t=e.component,r=Object(j.a)(e,p),c=Object(i.c)((function(e){return e.userSignin})).userInfo;return Object(u.jsx)(l.b,Object(o.a)(Object(o.a)({},r),{},{render:function(e){return c?Object(u.jsx)(t,Object(o.a)({},e)):Object(u.jsx)(l.a,{to:"/signin"})}}))},x=r(3),m=r.n(x),v=r(6),g=r(7),f=r.n(g),y="USER_REGISTER_REQUEST",E="USER_REGISTER_SUCCESS",S="USER_REGISTER_FAIL",N="USER_SIGNIN_REQUEST",A="USER_SIGNIN_SUCCESS",w="USER_SIGNIN_FAIL",I="USER_DETAILS_REQUEST",R="USER_DETAILS_SUCCESS",C="USER_DETAILS_FAIL",D="USER_DETAILS_RESET",U="USER_LIST_REQUEST",T="USER_LIST_SUCCESS",P="USER_LIST_FAIL",k="USER_SIGNOUT",_="USER_UPDATE_PROFILE_REQUEST",F="USER_UPDATE_PROFILE_SUCCESS",L="USER_UPDATE_PROFILE_FAIL",Q="USER_UPDATE_PROFILE_RESET",B="USER_DELETE_REQUEST",q="USER_DELETE_SUCCESS",z="USER_DELETE_FAIL",G="USER_DELETE_RESET",M="USER_UPDATE_REQUEST",H="USER_UPDATE_SUCCESS",K="USER_UPDATE_FAIL",J="USER_UPDATE_RESET",V=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r,c){var s,n,a,i,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:I}),s=c(),n=s.userSignin.userInfo,t.prev=2,t.next=5,f.a.get("/api/users/".concat(e),{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=t.sent,i=a.data,r({type:R,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:C,payload:d});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()},X=function(e){var t;return Object(u.jsx)("div",{className:null!==(t="alert alert-".concat(e.variant||"info"," ")+e.className)&&void 0!==t?t:"",children:e.children})},Y="CART_ADD_ITEM",Z="CART_REMOVE_ITEM",W="CART_SAVE_SHIPPING_ADDRESS",$="CART_SAVE_PAYMENT_METHOD",ee="CART_EMPTY",te=function(e,t){return function(){var r=Object(v.a)(m.a.mark((function r(c,s){var n,a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.get("/api/products/".concat(e));case 2:n=r.sent,a=n.data,c({type:Y,payload:{name:a.name,image:a.image,price:a.price,countInStock:a.countInStock,product:a._id,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},re=r(23),ce=function(e){var t=e.value,r=e.total,c=e.onChange;return Object(u.jsx)("select",{value:t,onChange:c,children:Object(re.a)(Array(r).keys()).map((function(e){return Object(u.jsx)("option",{value:e+1,children:e+1},e+1)}))})},se=function(e){var t=e.price,r=e.size,c=void 0===r?"sm":r,s=t+100,n=100-(t/s*100).toFixed(0);return Object(u.jsxs)("div",{className:"price-wrapper",style:{marginBlock:"lg"===c?"2rem":0},children:[Object(u.jsxs)("p",{className:"price",children:[Object(u.jsxs)("strong",{className:"sp",children:["$",t]}),Object(u.jsxs)("span",{className:"mrp",children:["$",s]}),Object(u.jsxs)("span",{className:"discount",children:["(",n,"% OFF)"]})]}),"lg"===c&&Object(u.jsx)("p",{className:"price-info",children:"inclusive of all taxes"})]})},ne=function(e){var t=Object(i.c)((function(e){return e.cart})).cartItems,r=Object(i.b)(),c=function(e){var t;r((t=e,function(e,r){e({type:Z,payload:t}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}))},s=t.reduce((function(e,t){return e+=(t.price+100)*t.qty}),0),n=t.reduce((function(e,t){return e+=100*t.qty}),0);return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)("h1",{children:"Shopping Cart"}),Object(u.jsxs)("div",{className:"row top gap-2",children:[Object(u.jsx)("div",{className:"col-2",children:0===t.length?Object(u.jsxs)(X,{children:["Cart is empty. ",Object(u.jsx)(d.b,{to:"/",children:"View products."})]}):Object(u.jsx)("ul",{className:"cart-items",children:t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row top gap-2 card card-body cart-item",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(u.jsxs)("div",{className:"col-1",children:[Object(u.jsx)(d.b,{to:"/product/".concat(e.product),children:Object(u.jsx)("h2",{className:"subtitle",style:{margin:0},children:e.name})}),Object(u.jsx)("div",{children:Object(u.jsx)(se,{price:e.price,size:"lg"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{style:{marginRight:"1rem"},children:"Qty:"}),Object(u.jsx)(ce,{value:e.qty,total:e.countInStock,onChange:function(t){r(te(e.product,Number(t.target.value)))}})]}),Object(u.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){return c(e.product)},children:Object(u.jsx)("i",{className:"fas fa-times"})})]})]})},e.product)}))})}),Object(u.jsx)("div",{className:"col-1 cart-price",children:Object(u.jsxs)("div",{className:"card card-body",children:[Object(u.jsxs)("h2",{className:"subtitle",style:{margin:0},children:["Price Details (",t.length," Items)"]}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("span",{children:"Total MRP"}),Object(u.jsxs)("span",{children:["$",s]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("span",{children:"Discount on MRP"}),Object(u.jsxs)("span",{children:["- $",n]})]})}),Object(u.jsx)("li",{className:"line"}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("b",{children:"Subtotal"}),Object(u.jsxs)("b",{children:["$",s-n]})]})}),Object(u.jsx)("li",{className:"mb-1",children:Object(u.jsx)("button",{type:"button",onClick:function(){e.history.push("/signin?redirect=shipping")},className:"primary block",disabled:0===t.length,children:"Proceed to Checkout"})})]})]})})]})]})},ae=function(e){var t=e.rating,r=e.numReviews,c=e.size,s=void 0===c?"sm":c,n=r<1e3?r:"".concat((r/1e3).toFixed(1),"k");return Object(u.jsxs)("div",{className:"rating",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("strong",{children:t})," ",Object(u.jsx)("i",{className:"fas fa-star",style:{color:"var(--light-teal)"}})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("strong",{children:n})," ","lg"===s&&"Ratings"]})]})},ie=function(e){var t=e.product;return Object(u.jsxs)("div",{className:"card product",children:[Object(u.jsx)(d.b,{to:"/product/".concat(t._id),children:Object(u.jsx)("img",{className:"medium",src:t.image,alt:t.name})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(d.b,{to:"/product/".concat(t._id),children:Object(u.jsx)("h2",{className:"subtitle",style:{fontSize:"1.5rem",textAlign:"center"},children:t.name})}),Object(u.jsxs)("div",{className:"product-info",children:[Object(u.jsx)(ae,{rating:t.rating,numReviews:t.numReviews}),Object(u.jsxs)("div",{className:"price",children:["$",t.price]})]})]})]},t._id)},de=function(){return Object(u.jsxs)("div",{className:"loading",children:[Object(u.jsx)("i",{className:"fa fa-spinner fa-spin"}),Object(u.jsx)("span",{children:"Loading..."})]})},le="PRODUCT_LIST_REQUEST",oe="PRODUCT_LIST_SUCCESS",je="PRODUCT_LIST_FAIL",ue="PRODUCT_DETAILS_REQUEST",be="PRODUCT_DETAILS_SUCCESS",he="PRODUCT_DETAILS_FAIL",pe="PRODUCT_CREATE_REQUEST",Oe="PRODUCT_CREATE_SUCCESS",xe="PRODUCT_CREATE_FAIL",me="PRODUCT_CREATE_RESET",ve="PRODUCT_UPDATE_REQUEST",ge="PRODUCT_UPDATE_SUCCESS",fe="PRODUCT_UPDATE_FAIL",ye="PRODUCT_UPDATE_RESET",Ee="PRODUCT_DELETE_REQUEST",Se="PRODUCT_DELETE_SUCCESS",Ne="PRODUCT_DELETE_FAIL",Ae="PRODUCT_DELETE_RESET",we=function(){return function(){var e=Object(v.a)(m.a.mark((function e(t){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:le}),e.prev=1,e.next=4,f.a.get("/api/products");case 4:r=e.sent,c=r.data,t({type:oe,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:je,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r){var c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:ue,payload:e}),t.prev=1,t.next=4,f.a.get("/api/products/".concat(e));case 4:c=t.sent,s=c.data,r({type:be,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:he,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.productList})),r=t.loading,s=t.error,n=t.products;return Object(c.useEffect)((function(){e(we())}),[e]),Object(u.jsx)("div",{className:"max-width",children:r?Object(u.jsx)(de,{}):s?Object(u.jsx)(X,{variant:"danger",children:s}):Object(u.jsx)("div",{className:"row center",children:n.map((function(e){return Object(u.jsx)(ie,{product:e},e._id)}))})})},Ce=r(4),De=function(e){var t=Object(i.b)(),r=e.match.params.id,s=Object(c.useState)(1),n=Object(Ce.a)(s,2),a=n[0],d=n[1],l=Object(i.c)((function(e){return e.productDetails})),o=l.loading,j=l.error,b=l.product,h=(null===b||void 0===b?void 0:b.countInStock)>0,p=(null===b||void 0===b?void 0:b.countInStock)>10?10:null===b||void 0===b?void 0:b.countInStock;Object(c.useEffect)((function(){t(Ie(r))}),[t,r]);return Object(u.jsx)("div",{className:"max-width",children:o?Object(u.jsx)(de,{}):j?Object(u.jsx)(X,{variant:"danger",children:j}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"row top gap-2 h-100",children:[Object(u.jsx)("div",{className:"col-2 bg-white",children:Object(u.jsx)("img",{className:"large",src:b.image,alt:b.name})}),Object(u.jsxs)("div",{className:"col-2",children:[Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("h1",{children:b.name})}),Object(u.jsx)("li",{children:Object(u.jsx)(ae,{rating:b.rating,numReviews:b.numReviews,size:"lg"})}),Object(u.jsx)("li",{className:"line"}),Object(u.jsx)("li",{children:Object(u.jsx)(se,{price:b.price,size:"lg"})})]}),Object(u.jsx)("div",{className:"card card-body",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"product-desc",children:[Object(u.jsx)("strong",{children:"Product Details"}),Object(u.jsx)("p",{children:b.description})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"product-desc",children:[Object(u.jsx)("strong",{children:"Size & Fit"}),Object(u.jsx)("p",{children:'Tailored fit The model (height 6\'1" and shoulders 17") is wearing a size 39'})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"product-desc",children:[Object(u.jsx)("strong",{children:"Material & Care"}),Object(u.jsx)("p",{style:{marginBottom:0},children:"Cotton"}),Object(u.jsx)("p",{style:{marginTop:0},children:"Machine wash cold"})]})}),h&&Object(u.jsxs)("li",{children:[Object(u.jsx)("span",{children:"Quantity: "}),Object(u.jsx)("span",{children:Object(u.jsx)(ce,{value:a,total:p,onChange:function(e){return d(e.target.value)}})})]}),Object(u.jsx)("li",{children:h?Object(u.jsxs)("span",{className:"success",children:["Hurry up! Only ",b.countInStock," left."]}):Object(u.jsx)("span",{className:"danger",children:"This product is currently sold out"})}),Object(u.jsx)("li",{className:"mb-0",children:Object(u.jsxs)("button",{disabled:!h,onClick:function(){t(te(r,a))},className:"primary block",children:[Object(u.jsx)("i",{className:"fas fa-shopping-bag",style:{marginRight:"1rem"}})," ","Add to bag"]})})]})})]})]})})})},Ue=function(e){var t=Object(c.useState)(""),r=Object(Ce.a)(t,2),s=r[0],n=r[1],a=Object(c.useState)(""),l=Object(Ce.a)(a,2),o=l[0],j=l[1],b=e.location.search?e.location.search.split("=")[1]:"/",h=Object(i.c)((function(e){return e.userSignin})),p=h.userInfo,O=h.loading,x=h.error,g=Object(i.b)();return Object(c.useEffect)((function(){p&&e.history.push(b)}),[e.history,b,p]),Object(u.jsx)("div",{className:"max-width grid-center",children:Object(u.jsx)("div",{className:"signin card card-body",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),g(function(e,t){return function(){var r=Object(v.a)(m.a.mark((function r(c){var s,n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:N,payload:{email:e,password:t}}),r.prev=1,r.next=4,f.a.post("/api/users/signin",{email:e,password:t});case 4:s=r.sent,n=s.data,c({type:A,payload:n}),localStorage.setItem("userInfo",JSON.stringify(n)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),c({type:w,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}(s,o))},children:[Object(u.jsx)("div",{children:Object(u.jsx)("h2",{className:"subtitle",children:"Sign In"})}),O&&Object(u.jsx)(de,{}),x&&Object(u.jsx)(X,{variant:"danger",children:x}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email Address :"}),Object(u.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",autoComplete:"useremail",required:!0,onChange:function(e){return n(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password :"}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",autoComplete:"current-password",required:!0,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{}),Object(u.jsx)("button",{className:"primary",type:"submit",children:"Sign In"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{}),Object(u.jsxs)("div",{className:"mb-2",children:["Didn't have an account?"," ",Object(u.jsx)(d.b,{to:"/register?redirect=".concat(b),children:"Create your account"})]})]})]})})})},Te=function(e){var t=Object(c.useState)(""),r=Object(Ce.a)(t,2),s=r[0],n=r[1],a=Object(c.useState)(""),l=Object(Ce.a)(a,2),o=l[0],j=l[1],b=Object(c.useState)(""),h=Object(Ce.a)(b,2),p=h[0],O=h[1],x=Object(c.useState)(""),g=Object(Ce.a)(x,2),N=g[0],w=g[1],I=e.location.search?e.location.search.split("=")[1]:"/",R=Object(i.c)((function(e){return e.userRegister})),C=R.userInfo,D=R.loading,U=R.error,T=Object(i.b)();return Object(c.useEffect)((function(){C&&e.history.push(I)}),[e.history,I,C]),Object(u.jsx)("div",{className:"max-width grid-center",children:Object(u.jsx)("div",{className:"signup card card-body",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),p!==N?alert("Password and confirm password are not same"):T(function(e,t,r){return function(){var c=Object(v.a)(m.a.mark((function c(s){var n,a;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s({type:y,payload:{email:t,password:r}}),c.prev=1,c.next=4,f.a.post("/api/users/register",{name:e,email:t,password:r});case 4:n=c.sent,a=n.data,s({type:E,payload:a}),s({type:A,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),s({type:S,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[1,11]])})));return function(e){return c.apply(this,arguments)}}()}(s,o,p))},children:[Object(u.jsx)("div",{children:Object(u.jsx)("h2",{className:"subtitle",children:"Sign Up"})}),D&&Object(u.jsx)(de,{}),U&&Object(u.jsx)(X,{variant:"danger",children:U}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"name",children:"Name :"}),Object(u.jsx)("input",{type:"name",id:"name",placeholder:"Enter name",autoComplete:"username",required:!0,onChange:function(e){return n(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email Address :"}),Object(u.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",autoComplete:"useremail",required:!0,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password :"}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",autoComplete:"new-password",required:!0,onChange:function(e){return O(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password :"}),Object(u.jsx)("input",{type:"password",id:"confirmPassword",placeholder:"Enter password again",autoComplete:"new-password",required:!0,onChange:function(e){return w(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{}),Object(u.jsx)("button",{className:"primary",type:"submit",children:"Sign Up"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{}),Object(u.jsxs)("div",{className:"mb-2",children:["Already have an account?"," ",Object(u.jsx)(d.b,{to:"/signin?redirect=".concat(I),children:"Sign In"})]})]})]})})})},Pe=function(e){return Object(u.jsxs)("div",{className:"row checkout-steps",children:[Object(u.jsx)("div",{className:e.step1?"active":"",children:"Sign In"}),Object(u.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(u.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(u.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})},ke=function(e){var t=Object(i.c)((function(e){return e.userSignin})).userInfo,r=Object(i.c)((function(e){return e.cart})).shippingAddress;t||e.history.push("/signin");var s=Object(c.useState)(r.fullName),n=Object(Ce.a)(s,2),a=n[0],d=n[1],l=Object(c.useState)(r.address),o=Object(Ce.a)(l,2),j=o[0],b=o[1],h=Object(c.useState)(r.city),p=Object(Ce.a)(h,2),O=p[0],x=p[1],m=Object(c.useState)(r.postalCode),v=Object(Ce.a)(m,2),g=v[0],f=v[1],y=Object(c.useState)(r.country),E=Object(Ce.a)(y,2),S=E[0],N=E[1],A=Object(i.b)();return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(Pe,{step1:!0,step2:!0}),Object(u.jsx)("div",{className:"shipping card card-body",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(t){var r;t.preventDefault(),A((r={fullName:a,address:j,city:O,postalCode:g,country:S},function(e){e({type:W,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r))})),e.history.push("/payment")},children:[Object(u.jsx)("div",{children:Object(u.jsx)("h2",{className:"subtitle",children:"Shipping Details"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"fullName",children:"Full Name :"}),Object(u.jsx)("input",{type:"text",id:"fullName",placeholder:"Enter full name",value:a,onChange:function(e){return d(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"address",children:"Address :"}),Object(u.jsx)("input",{type:"text",id:"address",placeholder:"Enter address",value:j,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"city",children:"City :"}),Object(u.jsx)("input",{type:"text",id:"city",placeholder:"Enter city",value:O,onChange:function(e){return x(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"postalCode",children:"Postal Code :"}),Object(u.jsx)("input",{type:"text",id:"postalCode",placeholder:"Enter postal code",value:g,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"country",children:"Country :"}),Object(u.jsx)("input",{type:"text",id:"country",placeholder:"Enter country",value:S,onChange:function(e){return N(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{}),Object(u.jsx)("button",{type:"submit",className:"primary mb-2",children:"Continue"})]})]})})]})},_e=function(e){Object(i.c)((function(e){return e.cart})).shippingAddress.address||e.history.push("/shipping");var t=Object(c.useState)("PayPal"),r=Object(Ce.a)(t,2),s=r[0],n=r[1],a=Object(i.b)();return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(Pe,{step1:!0,step2:!0,step3:!0}),Object(u.jsx)("div",{className:"payment-method card card-body",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(t){var r;t.preventDefault(),a((r=s,function(e){e({type:$,payload:r})})),e.history.push("/placeorder")},children:[Object(u.jsx)("div",{children:Object(u.jsx)("h2",{className:"subtitle",children:"Payment Method"})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"mb-1",children:[Object(u.jsx)("input",{type:"radio",name:"paymentMethod",id:"paypal",value:"PayPal",required:!0,checked:!0,onChange:function(e){return n(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"paypal",children:"PayPal"})]}),Object(u.jsxs)("div",{className:"mb-1",children:[Object(u.jsx)("input",{type:"radio",name:"paymentMethod",id:"strive",value:"Strive",onChange:function(e){return n(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"strive",children:"Stripe"})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:"primary mb-2",children:"Continue"})})]})})]})},Fe="ORDER_CREATE_REQUEST",Le="ORDER_CREATE_SUCCESS",Qe="ORDER_CREATE_FAIL",Be="ORDER_CREATE_RESET",qe="ORDER_DETAILS_REQUEST",ze="ORDER_DETAILS_SUCCESS",Ge="ORDER_DETAILS_FAIL",Me="ORDER_PAY_REQUEST",He="ORDER_PAY_SUCCESS",Ke="ORDER_PAY_FAIL",Je="ORDER_PAY_RESET",Ve="ORDER_LIST_REQUEST",Xe="ORDER_LIST_SUCCESS",Ye="ORDER_LIST_FAIL",Ze="ALL_ORDER_LIST_REQUEST",We="ALL_ORDER_LIST_SUCCESS",$e="ALL_ORDER_LIST_FAIL",et="ORDER_DELETE_REQUEST",tt="ORDER_DELETE_SUCCESS",rt="ORDER_DELETE_FAIL",ct="ORDER_DELETE_RESET",st="ORDER_DELIVER_REQUEST",nt="ORDER_DELIVER_SUCCESS",at="ORDER_DELIVER_FAIL",it="ORDER_DELIVER_RESET",dt=function(e){var t=Object(i.c)((function(e){return e.cart}));t.paymentMethod||e.history.push("/payment");var r=Object(i.c)((function(e){return e.orderCreate})),s=r.loading,n=r.success,a=r.error,l=r.order,j=function(e){return Number(e.toFixed(2))};t.itemsPrice=j(t.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0)),t.shippingPrice=t.itemsPrice>100?j(0):j(10),t.taxPrice=j(.028*t.itemsPrice),t.totalPrice=t.itemsPrice+t.shippingPrice+t.taxPrice;var b=Object(i.b)();return Object(c.useEffect)((function(){n&&(e.history.push("/order/".concat(l._id)),b({type:Be}))}),[b,l,e.history,n]),Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)(Pe,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(u.jsxs)("div",{className:"row top gap-2",children:[Object(u.jsx)("div",{className:"col-2",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"card card-body",children:[Object(u.jsx)("h2",{className:"subtitle",children:"Shipping Details"}),Object(u.jsxs)("div",{className:"row mb-1",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Name :"})}),Object(u.jsx)("div",{children:t.shippingAddress.fullName})]}),Object(u.jsxs)("div",{className:"row mb-1",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Address :"})}),Object(u.jsxs)("div",{children:[t.shippingAddress.address,", ",t.shippingAddress.city,","," ",t.shippingAddress.country]})]}),Object(u.jsxs)("div",{className:"row mb-2",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Pincode :"})}),Object(u.jsx)("div",{children:t.shippingAddress.postalCode})]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"card card-body",children:[Object(u.jsx)("h2",{className:"subtitle",children:"Payment Details"}),Object(u.jsxs)("div",{className:"row mb-2",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Payment Method :"})}),Object(u.jsx)("div",{children:t.paymentMethod})]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"card card-body",children:[Object(u.jsx)("h2",{className:"subtitle",children:"Order Items"}),Object(u.jsx)("ul",{children:t.cartItems.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(u.jsx)("div",{className:"min-30",children:Object(u.jsx)(d.b,{to:"/product/".concat(e.product),children:e.name})}),Object(u.jsxs)("div",{children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e.product)}))})]})})]})}),Object(u.jsx)("div",{className:"col-1",children:Object(u.jsx)("div",{className:"card card-body",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("h2",{className:"subtitle",children:"Order Summary"})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:"Items Total"}),Object(u.jsxs)("div",{children:["$",t.itemsPrice.toFixed(2)]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:"Shipping Charge"}),Object(u.jsxs)("div",{children:["$",t.shippingPrice.toFixed(2)]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:"Tax Charge"}),Object(u.jsxs)("div",{children:["$",t.taxPrice.toFixed(2)]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Order Total"})}),Object(u.jsx)("div",{children:Object(u.jsxs)("strong",{children:["$",t.totalPrice.toFixed(2)]})})]})}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{type:"button",onClick:function(){b(function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r,c){var s,n,a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Fe,payload:e}),t.prev=1,s=c(),n=s.userSignin.userInfo,t.next=5,f.a.post("/api/orders",e,{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=t.sent,i=a.data,r({type:Le,payload:i.order}),r({type:ee}),localStorage.removeItem("cartItems"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r({type:Qe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}()}(Object(o.a)(Object(o.a)({},t),{},{orderItems:t.cartItems})))},className:"primary block",disabled:0===t.cartItems.length,children:"Place Order"})}),s&&Object(u.jsx)(de,{}),a&&Object(u.jsx)(X,{variant:"danger",children:a})]})})})]})]})},lt=r(37),ot=function(e){var t=e.match.params.id,r=Object(c.useState)(!1),s=Object(Ce.a)(r,2),n=s[0],a=s[1],l=Object(i.c)((function(e){return e.orderDetails})),o=l.order,j=l.loading,b=l.error,h=Object(i.c)((function(e){return e.userSignin})).userInfo,p=Object(i.c)((function(e){return e.orderPay})),O=p.error,x=p.loading,g=p.success,y=Object(i.b)(),E=Object(i.c)((function(e){return e.orderDeliver})),S=E.loading,N=E.error,A=E.success;Object(c.useEffect)((function(){var e=function(){var e=Object(v.a)(m.a.mark((function e(){var t,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(c=document.createElement("script")).type="text/javascript",c.src="https://www.paypal.com/sdk/js?client-id=".concat(r),c.async=!0,c.onload=function(){a(!0)},document.body.appendChild(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!o||g||A||o&&o._id!==t?(y({type:Je}),y({type:it}),y(function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r,c){var s,n,a,i,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:qe,payload:e}),s=c(),n=s.userSignin.userInfo,t.prev=2,t.next=5,f.a.get("/api/orders/".concat(e),{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=t.sent,i=a.data,r({type:ze,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:Ge,payload:d});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))):o.isPaid||(window.paypal?a(!0):e())}),[y,o,t,n,g,A]);return Object(u.jsx)("div",{className:"max-width",children:j?Object(u.jsx)(de,{}):b?Object(u.jsx)(X,{variant:"danger",children:b}):Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsxs)("h1",{children:["Order Id : ",o._id]}),Object(u.jsxs)("div",{className:"row top gap-2",children:[Object(u.jsx)("div",{className:"col-2",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"card card-body",children:[Object(u.jsx)("h2",{className:"subtitle",children:"Shipping Details"}),Object(u.jsxs)("div",{className:"row mb-1",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Name :"})}),Object(u.jsxs)("div",{children:[" ",o.shippingAddress.fullName]})]}),Object(u.jsxs)("div",{className:"row mb-1",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Address :"})}),Object(u.jsxs)("div",{children:[o.shippingAddress.address,","," ",o.shippingAddress.city,","," ",o.shippingAddress.country]})]}),Object(u.jsxs)("div",{className:"row mb-1",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Pincode :"})}),Object(u.jsx)("div",{children:o.shippingAddress.postalCode})]}),o.isDelivered?Object(u.jsxs)(X,{variant:"success",className:"mb-2",children:["Delivered at ",o.deliveredAt]}):Object(u.jsx)(X,{variant:"danger",className:"mb-2",children:"Not Delivered"})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"card card-body",children:[Object(u.jsx)("h2",{className:"subtitle",children:"Payment Details"}),Object(u.jsxs)("div",{className:"row mb-1",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Payment Method :"})}),Object(u.jsx)("div",{children:o.paymentMethod})]}),o.isPaid?Object(u.jsxs)(X,{variant:"success",className:"mb-2",children:["Paid at ",o.paidAt]}):Object(u.jsx)(X,{variant:"danger",className:"mb-2",children:"Not Paid"})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"card card-body",children:[Object(u.jsx)("h2",{className:"subtitle",children:"Order Items"}),Object(u.jsx)("ul",{children:o.orderItems.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(u.jsx)("div",{className:"min-30",children:Object(u.jsx)(d.b,{to:"/product/".concat(e.product),children:e.name})}),Object(u.jsxs)("div",{children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e.product)}))})]})})]})}),Object(u.jsx)("div",{className:"col-1",children:Object(u.jsx)("div",{className:"card card-body",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("h2",{className:"subtitle",children:"Order Summary"})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:"Items Total"}),Object(u.jsxs)("div",{children:["$",o.itemsPrice.toFixed(2)]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:"Shipping Charge"}),Object(u.jsxs)("div",{children:["$",o.shippingPrice.toFixed(2)]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:"Tax Charge"}),Object(u.jsxs)("div",{children:["$",o.taxPrice.toFixed(2)]})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{children:Object(u.jsx)("strong",{children:"Order Total"})}),Object(u.jsx)("div",{children:Object(u.jsxs)("strong",{children:["$",o.totalPrice.toFixed(2)]})})]})}),!o.isPaid&&Object(u.jsx)("li",{children:n?Object(u.jsxs)(u.Fragment,{children:[O&&Object(u.jsx)(X,{variant:"danger",children:b}),x&&Object(u.jsx)(de,{}),Object(u.jsx)(lt.PayPalButton,{amount:o.totalPrice,onSuccess:function(e){y(function(e,t){return function(){var r=Object(v.a)(m.a.mark((function r(c,s){var n,a,i,d,l;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c({type:Me,payload:{order:e,paymentResult:t}}),n=s(),a=n.userSignin.userInfo;try{i=f.a.put("/api/orders/".concat(e._id,"/pay"),t,{headers:{Authorization:"Bearer ".concat(a.token)}}),d=i.data,c({type:He,payload:d})}catch(o){l=o.response&&o.response.data.message?o.response.data.message:o.message,c({type:Ke,payload:l})}case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(o,e))}})]}):Object(u.jsx)(de,{})}),h.isAdmin&&o.isPaid&&!o.isDelivered&&Object(u.jsxs)("li",{children:[S&&Object(u.jsx)(de,{}),N&&Object(u.jsx)(X,{variant:"danger",children:N}),Object(u.jsx)("button",{type:"button",className:"primary block",onClick:function(){y(function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r,c){var s,n,a,i,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:st,payload:e}),s=c(),n=s.userSignin.userInfo,t.prev=2,t.next=5,f.a.put("/api/orders/".concat(e,"/deliver"),{},{headers:{Authorization:"Bearer ".concat(n.token," ")}});case 5:a=t.sent,i=a.data,r({type:nt,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:at,payload:d});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(o._id))},children:"Deliver Order"})]})]})})})]})]})})},jt=function(e){var t=Object(i.c)((function(e){return e.orderList})),r=t.loading,s=t.error,n=t.orders,a=Object(i.b)();return Object(c.useEffect)((function(){a(function(){var e=Object(v.a)(m.a.mark((function e(t,r){var c,s,n,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ve}),c=r(),s=c.userSignin.userInfo,e.prev=2,e.next=5,f.a.get("/api/orders/list",{headers:{Authorization:"Bearer ".concat(s.token)}});case 5:n=e.sent,a=n.data,t({type:Xe,payload:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:Ye,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[a]),Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)("h1",{className:"subtitle",children:"Order History"}),r?Object(u.jsx)(de,{}):s?Object(u.jsx)(X,{variant:"danger",children:s}):Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"ORDER ID"}),Object(u.jsx)("th",{children:"DATE"}),Object(u.jsx)("th",{children:"TOTAL"}),Object(u.jsx)("th",{children:"PAID"}),Object(u.jsx)("th",{children:"DELIVERED"}),Object(u.jsx)("th",{children:"ACTIONS"})]})}),Object(u.jsx)("tbody",{children:n.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t._id}),Object(u.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(u.jsxs)("td",{children:["$",t.totalPrice.toFixed(2)]}),Object(u.jsx)("td",{children:t.isPaid?t.paidAt.substring(0,10):"No"}),Object(u.jsx)("td",{children:t.isDelivered?t.deliveredAt.substring(0,10):"No"}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Details"})})]},t._id)}))})]})]})},ut=function(){var e=Object(c.useState)(""),t=Object(Ce.a)(e,2),r=t[0],s=t[1],n=Object(c.useState)(""),a=Object(Ce.a)(n,2),d=a[0],l=a[1],o=Object(c.useState)(""),j=Object(Ce.a)(o,2),b=j[0],h=j[1],p=Object(c.useState)(""),O=Object(Ce.a)(p,2),x=O[0],g=O[1],y=Object(i.c)((function(e){return e.userSignin})).userInfo,E=Object(i.c)((function(e){return e.userDetails})),S=E.loading,N=E.error,w=E.user,I=Object(i.c)((function(e){return e.userUpdateProfile})),R=I.success,C=I.error,D=I.loading,U=Object(i.b)();Object(c.useEffect)((function(){w?(s(w.name),l(w.email)):(U({type:Q}),U(V(y._id)))}),[U,w,y]);return Object(u.jsx)("div",{className:"max-width grid-center",children:Object(u.jsx)("div",{className:"profile card card-body",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),b!==x?alert("Password and Confirm Password does not match!"):U(function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r,c){var s,n,a,i,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:_,payload:e}),s=c(),n=s.userSignin.userInfo,t.prev=2,t.next=5,f.a.put("/api/users/profile",e,{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=t.sent,i=a.data,r({type:F,payload:i}),r({type:A,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:L,payload:d});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,r){return t.apply(this,arguments)}}()}({userId:w._id,name:r,email:d,password:b}))},children:[Object(u.jsx)("div",{children:Object(u.jsx)("h2",{className:"subtitle",children:"User Profile"})}),S?Object(u.jsx)(de,{}):N?Object(u.jsx)(X,{variant:"danger",children:N}):Object(u.jsxs)(u.Fragment,{children:[D&&Object(u.jsx)(de,{}),C&&Object(u.jsx)(X,{variant:"danger",children:C}),R&&Object(u.jsx)(X,{variant:"success",children:"Profile Updated Successfully"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"name",children:"Name"}),Object(u.jsx)("input",{type:"text",id:"name",placeholder:"Enter name",defaultValue:r,onChange:function(e){return s(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",autoComplete:"email",defaultValue:d,onChange:function(e){return l(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",autoComplete:"new-password",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(u.jsx)("input",{type:"password",id:"confirmPassword",placeholder:"Enter confirm password",autoComplete:"new-password",onChange:function(e){return g(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{}),Object(u.jsx)("button",{className:"primary",type:"submit",children:"Update"})]})]})]})})})},bt=function(e){var t=Object(i.c)((function(e){return e.productList})),r=t.loading,s=t.error,n=t.products,a=Object(i.c)((function(e){return e.productCreate})),d=a.loading,l=a.error,o=a.success,j=a.product,b=Object(i.c)((function(e){return e.productDelete})),h=b.loading,p=b.error,O=b.success,x=Object(i.b)();Object(c.useEffect)((function(){o&&(x({type:me}),e.history.push("/product/".concat(j._id,"/edit"))),O&&x({type:Ae}),x(we())}),[j,x,e.history,o,O]);var g=function(e){var t;window.confirm("Are you sure you want to delete this product ?")&&x((t=e._id,function(){var e=Object(v.a)(m.a.mark((function e(r,c){var s,n,a,i,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:Ee,payload:t}),s=c(),n=s.userSignin.userInfo,e.prev=2,e.next=5,f.a.delete("/api/products/".concat(t),{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,i=a.data,r({type:Se,payload:i}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),d=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,r({type:Ne,payload:d});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}()))};return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsxs)("div",{className:"row gap-2",children:[Object(u.jsx)("h1",{className:"subtitle",style:{flex:1},children:"Products"}),Object(u.jsx)("button",{type:"button",className:"primary",onClick:function(){x(function(){var e=Object(v.a)(m.a.mark((function e(t,r){var c,s,n,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:pe}),c=r(),s=c.userSignin.userInfo,e.prev=2,e.next=5,f.a.post("/api/products",{},{headers:{Authorization:"Bearer ".concat(s.token)}});case 5:n=e.sent,a=n.data,t({type:Oe,payload:a.product}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:xe,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())},children:"Create Product"})]}),h&&Object(u.jsx)(de,{}),p&&Object(u.jsx)(X,{variant:"danger",children:p}),d&&Object(u.jsx)(de,{}),l&&Object(u.jsx)(X,{variant:"danger",children:l}),r?Object(u.jsx)(de,{}):s?Object(u.jsx)(X,{variant:"danger",children:s}):Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"PRODUCT ID"}),Object(u.jsx)("th",{children:"NAME"}),Object(u.jsx)("th",{children:"PRICE ($)"}),Object(u.jsx)("th",{children:"CATEGORY"}),Object(u.jsx)("th",{children:"BRAND"}),Object(u.jsx)("th",{children:"ACTIONS"})]})}),Object(u.jsx)("tbody",{children:n.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t._id}),Object(u.jsx)("td",{children:t.name}),Object(u.jsx)("td",{children:t.price}),Object(u.jsx)("td",{children:t.category}),Object(u.jsx)("td",{children:t.brand}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{type:"button",className:"small",onClick:function(){return e.history.push("/product/".concat(t._id,"/edit"))},children:"Edit"}),Object(u.jsx)("button",{type:"button",className:"small",onClick:function(){return g(t)},children:"Delete"})]})]},t._id)}))})]})]})},ht=function(e){var t=e.match.params.id,r=Object(c.useState)(""),s=Object(Ce.a)(r,2),n=s[0],a=s[1],d=Object(c.useState)(""),l=Object(Ce.a)(d,2),o=l[0],j=l[1],b=Object(c.useState)(""),h=Object(Ce.a)(b,2),p=h[0],O=h[1],x=Object(c.useState)(""),g=Object(Ce.a)(x,2),y=g[0],E=g[1],S=Object(c.useState)(""),N=Object(Ce.a)(S,2),A=N[0],w=N[1],I=Object(c.useState)(""),R=Object(Ce.a)(I,2),C=R[0],D=R[1],U=Object(c.useState)(""),T=Object(Ce.a)(U,2),P=T[0],k=T[1],_=Object(i.c)((function(e){return e.productDetails})),F=_.loading,L=_.error,Q=_.product,B=Object(i.c)((function(e){return e.productUpdate})),q=B.loading,z=B.error,G=B.success,M=Object(i.b)();Object(c.useEffect)((function(){G&&e.history.push("/productlist"),!Q||Q._id!==t||G?(M({type:ye}),M(Ie(t))):(a(Q.name),j(Q.price),O(Q.image),E(Q.category),w(Q.countInStock),D(Q.brand),k(Q.description))}),[Q,t,M,G,e.history]);var H=Object(c.useState)(!1),K=Object(Ce.a)(H,2),J=K[0],V=K[1],Y=Object(c.useState)(""),Z=Object(Ce.a)(Y,2),W=Z[0],$=Z[1],ee=Object(i.c)((function(e){return e.userSignin})).userInfo,te=function(){var e=Object(v.a)(m.a.mark((function e(t){var r,c,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(c=new FormData).append("image",r),V(!0),e.prev=4,e.next=7,f.a.post("/api/uploads",c,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(ee.token)}});case 7:s=e.sent,n=s.data,O(n),V(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),$(e.t0.message),V(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"max-width grid-center",children:Object(u.jsx)("div",{className:"product-edit card card-body",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),M(function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r,c){var s,n,a,i,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:ve,payload:e}),s=c(),n=s.userSignin.userInfo,t.prev=2,t.next=5,f.a.put("/api/products/".concat(e._id),e,{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=t.sent,i=a.data,r({type:ge,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:fe,payload:d});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:t,name:n,price:o,image:p,category:y,brand:C,countInStock:A,description:P}))},children:[Object(u.jsx)("div",{children:Object(u.jsxs)("h2",{className:"subtitle",children:["Edit product : ",t]})}),q&&Object(u.jsx)(de,{}),z&&Object(u.jsx)(X,{variant:"danger",children:z}),F?Object(u.jsx)(de,{}):L?Object(u.jsx)(X,{variant:"danger",children:L}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"name",children:"Name"}),Object(u.jsx)("input",{type:"text",id:"name",placeholder:"Enter name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"price",children:"Price ($)"}),Object(u.jsx)("input",{type:"text",id:"price",placeholder:"Enter price",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"image",children:"Image"}),Object(u.jsx)("img",{className:"small",src:"sample-image"===p?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAh1BMVEUAAABk2vth2vxh2/xh2vxh2/xh2vth2/xh2vth2vxh2/xh2vxh2vxh2/xh2vxh2vxh2vth2vth2vth2vxg2vth2vth2/th2vxh2vxh2vxh2vxh2vtg2vth2vth2/xh2vxh2/xh2vth2/xh2vth2vth2/th2vth2vtm6P9h3P5j3/9l4/9o6/9I1caUAAAAJ3RSTlMACPsj9g8s4NjrX5OArPGcRcDQTBwXbj9Y5bM0UWe5eXTKOqTFh4yMjSHNAAAT5ElEQVR42uxb6XKbMBAuAhtsLhs7PvAVx2nQwfs/Xy0s8SmVscgUt/2RzUwnAaTV3qvd7Y9v+IZv+IZv+IZv+IZv+Cp4LfzpRj/kHrefvwcmrj9C7Vl/PhWAxdtNTx9xnBwWvufA7Dj8craK0+MxzU+LlyeTALzrPKzoDXgQ5Zvll2jAPt5b8p5xqkBM0sUTKQDa3ZHXvCI3qJio6STdjIC6L/fHScRryiqit+JUzHfPogCIT4xWpAIQQjil4U9fvu5//FlJqLgurgwgFWWvzxECMOc1U0gBDfeCfAzcruMv3gVlOD12YnX8XDW61BqrjbrKfTdy+cFsLmjVtU8dD08AcCc4P2ngMwnBT4ctyJfjlJvH1zYACg5DUwDkMw51FdJxSGM2SaDbKSi4H7YSoo4P7Wug1UxWjQemAMgjobHULDzP59GE1590mXB6hB7d056osSGwoRZZUeZ5WhDK1EM6x5JhCXilRB2TxbuRfLRcvx4D6U3AURqsNAU2B2IujE855VG8WN7e+h+Mq3d0M6QIgH4U3jAQns2MF/7qzKUCQI+OSxzAZP9bVBukcprla88IyrNA7U/PWDYkAQdKlJKumwwMidAsNYMDodlGvrEjiDCOX2+TpZlJeYaJidlTrOCdKgadPm3fkLJLOSUEzG29OeRX1oywVkqTpHVY+OZDY7jg1XACGCvkIvLuxab1nPKWgqo++/IpPngLqSEiFiNzM4nc3mTAJ/L10AScNHuUn7ZImG6h4oRmUAPv+o4JAiOZ7+TD7jhDnmLG84YAIrnj3feRo1xACJzLtEa9+aBQn8ZNdWzhE3b7Jh+KAOz9MuG3vdMHbn4R1lAjmstn0kzLmhCwH4Gik0uiwDdDEbDmyklPza0tLb7Ao5L66EkTfylAlWAn+ZlLT1kAExrYiTJyP9BD2wMKQyiuxjjeGg/CN/mRm018NjgB8Y2N0gd5j70VGB7Qrb/LRNAqVTpSi52Kuhrcio837aRHx85X+i5tVCN0kgn9OxeJW7PPgjwpqY4UAa6d5etXzttTM/2bCPY/3GtThSYd7OCIMcQpW3ijoHX7UH9HloxgPGQ6BA+d8f4hxmstF+c/v/RauFJ+NISpDZVIsC+4B+U7AXXp9Vs3VeFyOxqYgJ3OFF2FDyRvHOfncd8L/0LcTGeyHJiAtagQBnqt2AsQwNZY5by1DhrJsDHFxv0WVMyQQNBXcGum8Iz/DQGwmYCb130x6bnu7b8g4Oq0JqYfbdzKVan/BwKIJMDtg0JKoEHNOhrBrwyjQsMbMZKJMw309Va0edFcvuppxDzzh3ajTLHmrcfGqY4BpE4u+D3/iht9GTqQEQQyZzqAM8cyCwx0NE6wdoBANnwqgZuDPv9F6pOsZuAy9G9SCSRzuNJ3a3F7+z3elka6osfYm2t1gmRuUFB1UahB5wmWE070fUxysXkkiA4HL47luSKgxMNBy1qoF3Q7IH3YUB0WUY3Jwu3j9aWBZlhI+9zIvLYDQjgc7tW38H79C9zIPgYlAK6F4E7cXcBugO/1d7BNGFF3Afk5d2IcAQ66o6igz/mKz1ATuAJjuwcb+NpbLwYnYM+Bv5t/gsCB4keuONatbcDFdwXi4bs0uJKJrkDgKTvp8IJe1BKH2l4vOQ9VWtzyG3rbj3pew2MYAJ+MvaU/lrDbyX/95dJbBwzqpaY8PLv6pEuLw8NZoOABr2lQsWivMGwSTSZZQIhUuYqQIMgmkyhrX1cLHB17oDaKAuyQIrjQ1g0B761RNj3FZREaVzAuOOcMwK8g8JpVYXHMk+l6+Rsdo9ARLgdo8XF5pVH9JX+2io9XztJby9UA1fjF3+oBKJRrWBYd49XM93SrZ1exZ/UHEIzoomnt7ZM0ygStqVDzGtVXQC1hzQZZlCb7hooNKsjDE7DMFHc+/ENeBKJhuvvgbkKkOGoRRJeVnysph8/o8XmFUOypqGZ7o89/BHK5FgatdIOmHL5BcwUdTBl7xHcCsJ86FipukPp1sOEtOIjltOB3Wcgq2zobEIIrEMZDbgnABv4+9RXqgZi/PJQZ5Q7G3bS3eC8v8c/TYbrZL2az2Xp9/Wex30wPr0mcp/NziG1YpwkJmpWH5R9SgObj/pJhmsQAeXRO65qjhVR6zsJDSY2GeE35XTIIozRLNyMnDW7mj3+GgvLfUGirEyQ85odDwCo0qG/ZWwNI5hpQ0pxwJYBgOs2PYePPQIU5CyK28dhBgmuucF9WVA8FAZho5hXT034sN89p3zETFB5Ut0dGw8UpLTLRBBR7kq06bjzQ8FXdORQCqmPAle/Jwvd0ok3VU2QwrjaSJri99PiLpNzew1RRGq0wVvGl459C+vuAop6WGKmPmh+ZvyAH7tszR/FEp1XLLSfIQ4BU0G2C0Yrex38NP2s+kXalldc35m0+tEag6tNfidTVt2mIv2n/RDVmWMPk1E8KaFeHlP9+epJeFOdqeWPFRQdVICeg9oCbl374U9864zSgepIN40UHCME9W/xOBTE1R1AyX/k/Rpkd6o+UoG7du84XMGJRfRYqEbqaxPSo52Lhcs8zRYGzCBdz8XkpL06+fKVPy7KlFr3MH3FT+2pujsQZ80h13jzxX8+8USXYgshfXCTI1/uwroxlvM7ytTbZ1W8zQ8qCu8st6qGNpVDreKgdQqL33utV63xSC4OEqp5snHOpXmwov9Sd8KSG01WNGjoErKpqbW+GX7oKMKT+qd6eBeaRNMbla0TFp0HBHJt1TWpg6opQWkw9HABzc1zqEO4Id0KAltBopE5jFUFrApcGZ4A7t2LatBCU4Eh1tHtUGFsE1CS32AC5PXeGUxCO1hlw+4f8Pdxuw/d82liQFQww4dfKEs4Y+2wKUylEZQ0H49sV58ZkWzi10EKH5mjb4BJu7jUrgyZ7bvLroIQHsaqNfC0pKOyKEKbxwjYhYITRzpmphFbGZFtyNweZt7dWuHNYMAg9yiSkBUZFCRnBjjUzmigGXbRzsgSqQSr6oQ5mjwxCe0pMtll8U17zx0xU1X2xH9oJb2AlED3aYcrvqOse3KpFgl8qPULt2nbNxugtkNkhSDNdS8Oe1v4wU0Aw5ef9eExEYUyMjjqTgwxCQNC5O9qAwcIHWQDdrT8pMUByU6sigJHWY1pZSL2YUYIo1kHBcl5XGiAocJYTbb0PRksQemnaCABqCy2rLfbf7Q140JvzXDiH/TxDsgSVIxinfsUPOH9HCR23easUDtdkA/n9Uz/Te+j8uvAe55iMof59tzVKOHsw2Qa2AdDOQqzroIDBWnQCirCDufKH5cGKE116MT8dtfdU5miNmBxGJLVzfRuQ6OBjhdfeq5sChR0BAwFWguhxKXlXOmR17ZDSdIElgpMWp6siBwYJ9P2Ra0XyqXOoEuoGnE1WZI3LdALDyBr650gTIB/HXKMqoHroTBkR1QXaZ9sxBSmNCZ1aDtkDvQu8tkZbCa3tsCXRpyyPux+uNoC5i4Dy3v95gF32GmixeFdSVw/Yzuigc5aT7QLgsEQAbXQAkijYE+Yg4n6TeZgHwkUYQy0PCMA8pe2IEIXdGmBOtIBtCJTusSpmCwDC6QZ4SlsEsO/+w7EvBgF9CzvI6EDyHxAAp9avr4RsBpdPr+8oje1q4DdM0twq1NEAj7+CHi1/dGfFr/bOdDttGIjCRZjF7EvYEpKwxpLs93++1ljwGYSRaUSXc5gfbRKwLVma0ejOndHOca2lqQyabddt4an2AJTnyRFMXuPeSAGjrzwySLYOsnaZ0WFhgikUFacvgxNmJlV8FzqIrWfpwNVzdIA9AS+Dt1EWl4SBhykraYcAYQ2vzFplisV2+BkA1lb3+OPNWXNIOE1ZhXiGvYlNwXZdfh2jNezonRNIKNx4y/oJDUnbhe4z7pZZLxR4UAzAfe70y+J0BVaXqZtaCe7hUuFr067IDhHRsDEOu3/F7W/Ic6OLZYQZySy6qcLaDBpuLctM2f1MQ7OlRKNupebEwra5KJ+hGwIB30qmaSw0r+0c9QyiqxLw1phumWasNQDHDeCc5CheBbAWCWtfYHJFvrRIWgf0gZeBHg+T4Hr7IY0Cj2b3GifAKoXt38da3IC2oJxHcl1QpQO1U8GkEurrm5raLrkSuhbJsGKvGUYzaqET2KrvSBBMXq994+P04oSMPit0wcL1DQq+stwwkhHRZKB97nhu+mSrGFokO1BIwVDyKs6HPodNjy7xZFYMs+akNh9o6wLACbMKOCdKkAxBKwkXG0PsBHd/zEaglQylTZtMBBZPdwnz5+0GPhkWVY8t+H+/SMH1I4FlQQ0AKKLoI/A63up5NZOYlpFUZ/egnfYTPJlqLxgrdjIEbEDU8pHmeb/ZU3Gses0t9YeQkSRQeTPAUW2DdRchnwy9iEW+2ku/bj7AjcDcGY2w9uPEh6pvs9kbVawuEVRc4Hz47aKOUjuQKh+gmd5EPk2QjO6K7iz9gPWOtGjmMeiEHePjR9shoYYE/P50DtHjzVbkmx9ZIbLC+id0QQ/fU9PGG2cGsQND+RDYFAUeIe6PWdWwQxmLtDXUUuWBr5gg5a04/UUFGikX/RmrGAsm6x+u8J2FfkRyALqwqgzJpr3IyCbM6Iajihg1gIKzK7NYfT1VPGZQfmHDUS7PgOSqyxDuIp3JnZGSOjp7j2JfKV0Eq7rVpgsUAhK76VwoFnwiO0Ss764UBRrKH/V0uo6S+Pz5Mu7iHZTpwub11AX4KnnLXbHoS+4dtb0Gv1LcBtxen7gqNH/oZHrYi9/HQYMQAXxw1Gr0+K5yHMO8BmOkstnIk7AjO2vylxuFrUjgiyAqeO0MXk5vbpWUJaywjUGDzRUvg89uT/EMBj5Rr4O7WXOsIiG0HSSdTeG6/76ZVHihJcFB4olCZjjUZPbeX4fpvOEJEJV6/Tea/1vEv51Cobj1wcNRvVG3M68uI8WGCr6lvSRkn9DfZXXe2a576qJeGkwfPVr9Pv2V1fCrGae+5VXeeSKlWgQK1MclJKqoYKGkTODAn7c+XX6YO9+szjnehrHUBVRvpRVxyH5n2hoP3urVSa1WOUmtNqnWN4Nla9XpB3xbqwI6uJKmAuV3288w1Jb9hSqiz0eIIXiLoNcLG41G85f8+i/s9QKhTNoGXy6i76uw2zIcYI/8dTAQF/v+EK5VhrduOOxKHbrquBSAy0frbY5Vtv5ouM4+RMHFPo5O3EzV3bcQmmp1m+KQPCO+2wvansTBaDvfHtlI1Qfm0CTpjqLe+vpoHHqRKaL4nZYb+r6UovG6P2QBjY87PO9ZTHjA4MuV+rLTHYWm7qWK7umEyjQ6FuFu2xnXK6dyGsoC4X2msxIMRcNqb8tV/2PUCHRM+44ai5znqsQqaIxe29NxvYadINzhOQsIQAX4kmcaqVXfOprlQElLFPG/uFOv1q7epmtFrH0Jkaktf7poQD85JYOON2neTOt9+kve31ut5Xg2y1AkbsGF1kaBmLcXARHC5bR7AbZDL/PSzoc2LTNJsIs9q0/B7cdAXPczgUvJocmc7jxhxUVGki3/lf7I6HYT6mgBNswRiwRtYZz9CESj4tlpR3qUMpMADgXJ6i4ujf+yDHCrHFUNIA8SbTPFPVS+WgaCkKHgtXAw79Z9Z7C7fEGhCmkegrI7jsoeTe9WtFsqWdzkNFNQCPsKjF2aB+FVhpQqdAWiTzh4N/0dwAcM2EHIs0bKU61FJ7MT/JFQaOqDRG5KEziZ8FpYAvNQhhRFnARqZGa+SDoo6zJuHlVfaF4CHqYkUjIdH+tdotW3VSgT6bViKmWDADPdpsi4pToqwWKwU0SW/ktUsRtwNwPunzoRvzflUC9FpMl3B/Cy3I5HRtJGlF6WuvDln+hARtI+9gBS9j/RgUFpbqSKkMMC8D91IO1BfguJc/m3dGBS0gphS+cRokmc+jtWqDw5lqS6+GwKdUv1APq+HDxqJV6VI2jvpbqgW9ZKUtP9r8QQQkkid3sTEULZ5nKcVMp1/mF3GoU50V9Bn4O4R6DL6U57L7JF9at1iXkcntqvdEQRcE0WZ6k6Un47sHLVH0N9lYb79bk5Kx7vxKvWsYBD7FHQLrVxFFvsn4KzQsXTi/L9TQ6vKECQtf8TmVhhbpghzpqhuTqapxual/wBChHndRW8JsiongSauZ3Fc+usmUCGmytHWHDWUYGmAX55EtQLdLqQWJhntjVT/x8mGKnWJGsWcSK19z09FhpkzU67jqSAmoTCXhzjouWQ2HXBDNo+LkJjWzjTmGVTKhqpOzTRPkgnalPiwoK1vNeZI/GAIbCav/mI41wLQxat4qOM+AoDAP3Vt4Dcql71kg43O5BzmD7Dl/sOk+K4LeAXj2KTsybEJwy1LaJtsWL6nB8IefU4LwotnhwQ5dcG2TSZeLE8/nUy7htqG8RCzppxH6i2H0zMp0ujJQ5/y8uRdkLHo/a01Vq1h6E8oxQJqfaV+460C3fb9v6r24y1ePihfIM492QZS5lIfcEO3L3dXGmvHyqYJMmpBoyyghveXVKIDUI4yjCVPdaRGylDg3qUQNFHICp/3SyExTzaFR+sGUiT4uldoOjz6LPJE7SrZXfuxUebCrmwAEjPPehSmTDPyFzsq984XJZJuGMF8SwUfrnIbVAyEcMW62ppQuGe430PEukksFeQB/Rg0mkcyr3qjK/RG36SKXEfk222XwfxgeOV/qsbjOJjBCrjeP8xaiwazV23M375jcqgXFIdf/Y/duv1cLuaUdDokUL1rEkNd9nDGeN/pvUoMz99+04Usv5TwpOf8pSnPOUpT3nKU/5r+QnL/zLKJKcZgAAAAABJRU5ErkJggg==":p,alt:n})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"imageFile",children:"Image File"}),Object(u.jsx)("input",{type:"file",id:"imageFile",label:"Choose Image",onChange:te}),J&&Object(u.jsx)(de,{}),W&&Object(u.jsx)(X,{variant:"danger",children:W})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"category",children:"Category"}),Object(u.jsx)("input",{type:"text",id:"category",placeholder:"Enter category",value:y,onChange:function(e){return E(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(u.jsx)("input",{type:"text",id:"brand",placeholder:"Enter brand",value:C,onChange:function(e){return D(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"countInStock",children:"Count In Stock"}),Object(u.jsx)("input",{type:"text",id:"countInStock",placeholder:"Enter countInStock",value:A,onChange:function(e){return w(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"description",children:"Description"}),Object(u.jsx)("textarea",{type:"text",id:"description",placeholder:"Enter description",value:P,onChange:function(e){return k(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{}),Object(u.jsx)("button",{className:"primary",type:"submit",children:"Update"})]})]})]})})})},pt=function(e){var t=Object(i.c)((function(e){return e.allOrdersList})),r=t.loading,s=t.error,n=t.orders,a=Object(i.c)((function(e){return e.orderDelete})),d=a.loading,l=a.error,o=a.success,j=Object(i.b)();Object(c.useEffect)((function(){j({type:ct}),j(function(){var e=Object(v.a)(m.a.mark((function e(t,r){var c,s,n,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ze}),c=r(),s=c.userSignin.userInfo,e.prev=2,e.next=5,f.a.get("/api/orders/",{headers:{Authorization:"Bearer ".concat(s.token)}});case 5:n=e.sent,a=n.data,t({type:We,payload:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:$e,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[j,o]);var b=function(e){var t;window.confirm("Are you sure you want to delete this order ?")&&j((t=e._id,function(){var e=Object(v.a)(m.a.mark((function e(r,c){var s,n,a,i,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:et,payload:t}),s=c(),n=s.userSignin.userInfo,e.prev=2,e.next=5,f.a.delete("/api/orders/".concat(t),{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,i=a.data,r({type:tt,payload:i}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),d=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,r({type:rt,payload:d});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}()))};return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)("h1",{className:"subtitle",children:"Orders"}),d&&Object(u.jsx)(de,{}),l&&Object(u.jsx)(X,{variant:"danger",children:l}),r?Object(u.jsx)(de,{}):s?Object(u.jsx)(X,{variant:"danger",children:s}):Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"ORDER ID"}),Object(u.jsx)("th",{children:"USER"}),Object(u.jsx)("th",{children:"DATE"}),Object(u.jsx)("th",{children:"TOTAL"}),Object(u.jsx)("th",{children:"PAID"}),Object(u.jsx)("th",{children:"DELIVERED"}),Object(u.jsx)("th",{children:"ACTIONS"})]})}),Object(u.jsx)("tbody",{children:n.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t._id}),Object(u.jsx)("td",{children:t.user.name}),Object(u.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(u.jsx)("td",{children:t.totalPrice.toFixed(2)}),Object(u.jsx)("td",{children:t.isPaid?t.paidAt.substring(0,10):"No"}),Object(u.jsx)("td",{children:t.isDelivered?t.deliveredAt.substring(0,10):"No"}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Details"}),Object(u.jsx)("button",{type:"button",className:"small",onClick:function(){return b(t)},children:"Delete"})]})]},t._id)}))})]})]})},Ot=function(e){var t=Object(i.c)((function(e){return e.userList})),r=t.loading,s=t.error,n=t.users,a=Object(i.c)((function(e){return e.userDelete})),d=a.loading,l=a.error,o=a.success,j=Object(i.b)();Object(c.useEffect)((function(){j(function(){var e=Object(v.a)(m.a.mark((function e(t,r){var c,s,n,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:U}),c=r(),s=c.userSignin.userInfo,e.prev=2,e.next=5,f.a.get("/api/users",{headers:{Authorization:"Bearer ".concat(s.token)}});case 5:n=e.sent,a=n.data,t({type:T,payload:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:P,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}()),j({type:D})}),[j,o]);var b=function(e){var t;window.confirm("Are you sure you want to delete this user ?")&&j((t=e._id,function(){var e=Object(v.a)(m.a.mark((function e(r,c){var s,n,a,i,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:B,payload:t}),s=c(),n=s.userSignin.userInfo,e.prev=2,e.next=5,f.a.delete("/api/users/".concat(t),{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,i=a.data,r({type:q,payload:i}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),d=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,r({type:z,payload:d});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}()))};return Object(u.jsxs)("div",{className:"max-width",children:[Object(u.jsx)("h1",{className:"subtitle",children:"Users"}),d&&Object(u.jsx)(de,{}),l&&Object(u.jsx)(X,{variant:"danger",children:l}),o&&Object(u.jsx)(X,{variant:"success",children:"User Deleted Successfully"}),r?Object(u.jsx)(de,{}):s?Object(u.jsx)(X,{variant:"danger",children:s}):Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"USER ID"}),Object(u.jsx)("th",{children:"NAME"}),Object(u.jsx)("th",{children:"EMAIL"}),Object(u.jsx)("th",{children:"IS SELLER"}),Object(u.jsx)("th",{children:"IS ADMIN"}),Object(u.jsx)("th",{children:"ACTIONS"})]})}),Object(u.jsx)("tbody",{children:n.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t._id}),Object(u.jsx)("td",{children:t.name}),Object(u.jsx)("td",{children:t.email}),Object(u.jsx)("td",{children:t.isSeller?"YES":"NO"}),Object(u.jsx)("td",{children:t.isSeller?"YES":"NO"}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{type:"button",className:"small",onClick:function(){return e.history.push("/user/".concat(t._id,"/edit"))},children:"Edit"}),Object(u.jsx)("button",{type:"button",className:"small",onClick:function(){return b(t)},children:"Delete"})]})]},t._id)}))})]})]})},xt=function(e){var t=e.match.params.id,r=Object(c.useState)(""),s=Object(Ce.a)(r,2),n=s[0],a=s[1],d=Object(c.useState)(""),l=Object(Ce.a)(d,2),o=l[0],j=l[1],b=Object(c.useState)(!1),h=Object(Ce.a)(b,2),p=h[0],O=h[1],x=Object(c.useState)(!1),g=Object(Ce.a)(x,2),y=g[0],E=g[1],S=Object(i.c)((function(e){return e.userDetails})),N=S.loading,A=S.error,w=S.user,I=Object(i.c)((function(e){return e.userUpdate})),R=I.loading,C=I.error,D=I.success,U=Object(i.b)();Object(c.useEffect)((function(){D&&(U({type:J}),e.history.push("/userlist")),w?(a(w.name),j(w.email),O(w.isSeller),E(w.isAdmin)):U(V(t))}),[U,e.history,D,w,t]);return Object(u.jsx)("div",{className:"max-width grid-center",children:Object(u.jsx)("div",{className:"card card-body",children:Object(u.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),U(function(e){return function(){var t=Object(v.a)(m.a.mark((function t(r,c){var s,n,a,i,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:M,payload:e}),s=c(),n=s.userSignin.userInfo,t.prev=2,t.next=5,f.a.put("/api/users/".concat(e._id),e,{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=t.sent,i=a.data,r({type:H,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:K,payload:d});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:t,name:n,email:o,isSeller:p,isAdmin:y}))},children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{children:["Edit User ",n]}),R&&Object(u.jsx)(de,{}),C&&Object(u.jsx)(X,{variant:"danger",children:C})]}),N?Object(u.jsx)(de,{}):A?Object(u.jsx)(X,{varinat:"danger",children:A}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"name",children:"Name"}),Object(u.jsx)("input",{type:"text",id:"name",placeholder:"Enter name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"isSeller",children:"Seller"}),Object(u.jsx)("input",{type:"checkbox",id:"isSeller",value:p,onChange:function(e){return O(e.target.checked)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"isAdmin",children:"Admin"}),Object(u.jsx)("input",{type:"checkbox",id:"isAdmin",value:y,onChange:function(e){return E(e.target.checked)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:"primary",children:"Update"})})]})]})})})},mt=function(e){var t=e.title,r=e.titlePath,s=e.items,n=Object(c.useState)(!1),a=Object(Ce.a)(n,2),i=a[0],l=a[1];return Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsxs)(d.b,{to:r,onClick:function(){l((function(e){return!e}))},children:[t," ",Object(u.jsx)("i",{className:"fa fa-caret-down"})]}),i&&Object(u.jsx)("ul",{className:"dropdown-content",children:s.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(d.b,{to:e.path,onClick:e.onClick,children:e.title})},e.path)}))})]})};var vt=function(){var e=Object(i.c)((function(e){return e.cart})).cartItems,t=Object(i.c)((function(e){return e.userSignin})).userInfo,r=Object(i.b)(),c=[{title:"Profile",path:"/profile"},{title:"Orders",path:"/orderhistory"},{title:"Sign Out",path:"#signout",onClick:function(){r((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),e({type:k}),document.location.href="/signin"}))}}];return Object(u.jsx)(d.a,{children:Object(u.jsxs)("div",{className:"grid-container",children:[Object(u.jsx)("header",{children:Object(u.jsxs)("div",{className:"row max-width",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)(d.b,{to:"/",children:Object(u.jsx)("h1",{children:"Shopify"})})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)(d.b,{to:"/cart",children:[Object(u.jsx)("i",{className:"fas fa-shopping-bag"}),e.length>0&&Object(u.jsx)("span",{className:"badge",children:e.length})]}),t?Object(u.jsx)(mt,{title:t.name,titlePath:"#",items:c}):Object(u.jsx)(d.b,{to:"/signin",children:"Sign In"}),t&&t.isAdmin&&Object(u.jsx)(mt,{title:"Admin",titlePath:"#",items:[{title:"Dashboard",path:"/dashboard"},{title:"Products",path:"/productlist"},{title:"Orders",path:"/orderlist"},{title:"Users",path:"/userlist"}]})]})]})}),Object(u.jsxs)("main",{children:[Object(u.jsx)(l.b,{path:"/cart/:id?",component:ne,exact:!0}),Object(u.jsx)(l.b,{path:"/product/:id",component:De,exact:!0}),Object(u.jsx)(l.b,{path:"/signin",component:Ue,exact:!0}),Object(u.jsx)(l.b,{path:"/register",component:Te,exact:!0}),Object(u.jsx)(O,{path:"/shipping",component:ke,exact:!0}),Object(u.jsx)(O,{path:"/payment",component:_e,exact:!0}),Object(u.jsx)(O,{path:"/placeorder",component:dt,exact:!0}),Object(u.jsx)(O,{path:"/order/:id",component:ot,exact:!0}),Object(u.jsx)(O,{path:"/orderhistory",component:jt,exact:!0}),Object(u.jsx)(O,{path:"/profile",component:ut,exact:!0}),Object(u.jsx)(h,{path:"/productlist",component:bt,exact:!0}),Object(u.jsx)(h,{path:"/product/:id/edit",component:ht,exact:!0}),Object(u.jsx)(h,{path:"/orderlist",component:pt,exact:!0}),Object(u.jsx)(h,{path:"/userlist",component:Ot,exact:!0}),Object(u.jsx)(h,{path:"/user/:id/edit",component:xt,exact:!0}),Object(u.jsx)(l.b,{path:"/",component:Re,exact:!0})]}),Object(u.jsx)("footer",{className:"row center",children:"\xa9 2021 | All rights reserved."})]})})},gt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,75)).then((function(t){var r=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,a=t.getTTFB;r(e),c(e),s(e),n(e),a(e)}))},ft=r(20),yt=r(38),Et={userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:"PayPal"}},St=Object(ft.b)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{loading:!0};case oe:return{loading:!1,products:t.payload};case je:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case be:return{loading:!1,product:t.payload};case he:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:var r=t.payload,c=e.cartItems.find((function(e){return e.product===r.product}));return c?Object(o.a)(Object(o.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===c.product?r:e}))}):Object(o.a)(Object(o.a)({},e),{},{cartItems:[].concat(Object(re.a)(e.cartItems),[r])});case Z:return Object(o.a)(Object(o.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case W:return Object(o.a)(Object(o.a)({},e),{},{shippingAddress:t.payload});case $:return Object(o.a)(Object(o.a)({},e),{},{paymentMethod:t.payload});case ee:return Object(o.a)(Object(o.a)({},e),{},{cartItems:[]});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case A:return{loading:!1,userInfo:t.payload};case w:return{loading:!1,error:t.payload};case k:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case E:return{loading:!1,userInfo:t.payload};case S:return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{loading:!0};case Le:return{loading:!1,success:!0,order:t.payload};case Qe:return{loading:!1,error:t.payload};case Be:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case ze:return{loading:!1,order:t.payload};case Ge:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return{loading:!0};case He:return{loading:!1,success:!0};case Ke:return{loading:!1,error:t.payload};case Je:return{};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return{loading:!0};case Xe:return{loading:!1,orders:t.payload};case Ye:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case R:return{loading:!1,user:t.payload};case C:return{loading:!1,error:t.payload};case D:return{loading:!0};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case F:return{loading:!1,success:!0};case L:return{loading:!1,error:t.payload};case Q:return{};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{loading:!0};case Oe:return{loading:!1,success:!0,product:t.payload};case xe:return{loading:!1,error:t.payload};case me:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{loading:!0};case ge:return{loading:!1,success:t.payload.message};case fe:return{loading:!1,error:t.payload};case ye:return{};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case Se:return{loading:!1,success:!0};case Ne:return{loading:!1,error:t.payload};case Ae:return{};default:return e}},allOrdersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return{loading:!0};case We:return{loading:!1,orders:t.payload};case $e:return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return{loading:!0};case tt:return{loading:!1,success:!0};case rt:return{loading:!1,error:t.payload};case ct:return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return{loading:!0};case nt:return{loading:!1,success:!0};case at:return{loading:!1,error:t.payload};case it:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case T:return{loading:!1,users:t.payload};case P:return{loading:!1,error:t.payload};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case q:return{loading:!1,success:!0};case z:return{loading:!1,error:t.payload};case G:return{};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0};case H:return{loading:!1,success:!0};case K:return{loading:!1,error:t.payload};case J:return{};default:return e}}}),Nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ft.c,At=Object(ft.d)(St,Et,Nt(Object(ft.a)(yt.a)));a.a.render(Object(u.jsx)(i.a,{store:At,children:Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(vt,{})})}),document.getElementById("root")),gt()}},[[74,1,2]]]);
//# sourceMappingURL=main.c64bff01.chunk.js.map